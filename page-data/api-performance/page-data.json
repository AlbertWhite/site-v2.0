{"componentChunkName":"component---src-components-blog-tsx","path":"/api-performance/","result":{"data":{"markdownRemark":{"htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Recently I am working on a refactor of api. Doing the API in the right way might slightly bring performance issues, so I have worked on the measurement of performance in the development and in the production. Here is my learning:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Difference between server side performance and web performance"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In my humbor opinion, first of all, when the performance regression is tiny bit, it's much more critical in the front-end than in the back-end, because:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"On clinet side, web page could be launched in tons of different devices in different environment; where server is always run on the (best) machines, so the impact of performance regression on the front-side is much bigger than the regression on the back-end side."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The CVR, transaction rate etc is measured in the front-end. We always want to relate the CVR with "},{"type":"element","tagName":"a","properties":{"href":"https://web.dev/vitals/?gclid=Cj0KCQiA6fafBhC1ARIsAIJjL8ncg7n9F1GeMufGIlkHpwVsR2cFyYHys6o7ONom1NwmkfkXeEOBJfcaArDjEALw_wcB"},"children":[{"type":"text","value":"core web vitals"}]},{"type":"text","value":", but we rarely related the CVR api reponse time."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Then, we seems to have more performanceÂ metrics in the front-end than in the backend. In the front-end, we have invented many metrics, while in the backend side, API response time is always the key metrics."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"How did I measure the server side performance between solution A and solution B before release"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"By simply setting the timestamps with Date.now() and calculating the time difference. "},{"type":"element","tagName":"a","properties":{"href":"https://www.artillery.io/"},"children":[{"type":"text","value":"artillery"}]},{"type":"text","value":" seems like a good solution but I didn't try it."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It's interesting to see that when the cache system exists, the time duration for the multiple runs of the same API call could vary: the first call is longer because it needs to construct the cache."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"How did I measure the server side performance in production"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"With the monitor tool, for example, NewRelic, we can check the response time for a certain API during time."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"As the before-release test shows, the response time has a peak once after the release because of the cache generation."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Conclusion"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It's just a naive article about server side performance. I will have deeper understanding once I worked more on it."}]}],"data":{"quirksMode":false}},"frontmatter":{"title":"Difference between server side performance and web performance","date":"28 February, 2023"}}},"pageContext":{"slug":"/api-performance/"}},"staticQueryHashes":["2080627102","265798717"],"slicesMap":{}}