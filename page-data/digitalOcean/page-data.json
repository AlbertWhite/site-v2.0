{"componentChunkName":"component---src-components-blog-tsx","path":"/digitalOcean/","result":{"data":{"markdownRemark":{"htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It is my note about how to deploy node server to DigitalOcean."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"1. Create a virtual server in DigitalOcean"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://www.digitalocean.com/"},"children":[{"type":"text","value":"DigitalOcean"}]},{"type":"text","value":" provides service for cloud computering, which means it provides unbuntu servers to let users host servers."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 672px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/site-v2.0/static/e805e98231309028b94ca74ae58e7a8c/c4f9f/1.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 48.80952380952381%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB7klEQVR42m2S7UuTURjG919FFH7oSwSRFNUypxlJLVhKKpUVQS+UrkbTyt42mUFERFFBLYUKJA2tsBJfVhBlhkpmhWsvbc/5dT07e4qiB37Puc/NfV3nPi++xQx4vJuBt59g7muRuYUCs18KpXH+O38xu+DwLV2g94khcQsy+T8evtZucNkXh4cjMP4ekoMwPAnPU+INPEvZucfQBLxQfky1twdgb8x6HEjIcGcHuASj0KHVEr3QeRNi96A7aYknbf5KH/T02bhHXHsEUdXukDYoj9AZGW47CR5b2iBwXGM71JyAqmPgPwJ1mve/NqSmitqBw+SUYeKDPaK76rCuzeq3R2RYLYFHYye0dEHzOY1il1beKuP6sM7tsw6KPEZ/Yxwcx3Ejhsdh4yGrr1UDvvX7wSOgZOCoOjtscWO/imuUn/64SDqd1gUUyOSKZAU4PB2Fyj1W7z8owzVN4BFSy81noSFqaVJcrw79rTKczpLL5cj/dGRo+JG1HQ68hFUNVr+2RYarQ+DRdR3uPIar93XgSRuHdXPrdmvL85Q+Y+xY2rG+QRmuDFp9ZaMMl22C31RZlm+GigAs9cOSDbCiFh70w8iYns0ry5AY1XOK37A1rr6iWoaRS4Z/OVUmcrmM4vbz/yd8oay5aDgdM/wC3DWM3tpi4oAAAAAASUVORK5CYII='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"1","title":"","src":"/site-v2.0/static/e805e98231309028b94ca74ae58e7a8c/ff9d2/1.png","srcSet":["/site-v2.0/static/e805e98231309028b94ca74ae58e7a8c/0372f/1.png 168w","/site-v2.0/static/e805e98231309028b94ca74ae58e7a8c/2ec80/1.png 336w","/site-v2.0/static/e805e98231309028b94ca74ae58e7a8c/ff9d2/1.png 672w","/site-v2.0/static/e805e98231309028b94ca74ae58e7a8c/7b5cb/1.png 1008w","/site-v2.0/static/e805e98231309028b94ca74ae58e7a8c/275af/1.png 1344w","/site-v2.0/static/e805e98231309028b94ca74ae58e7a8c/c4f9f/1.png 1611w"],"sizes":"(max-width: 672px) 100vw, 672px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]},{"type":"text","value":"\nEach virtual server is called as "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Droplets"}]},{"type":"text","value":" in DigitalOcean. Creating a droplet means creating a virtual server in DigitalOcean."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 672px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/site-v2.0/static/8429765054e275c1802c69275a09ff7d/b1a62/2.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 34.523809523809526%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA2klEQVR42o1SSw5CIQzkvh7AU3gBz+HWpYlncOXKmOgTo3wKFEaK8uIzmthkApTptNCqowauBnBU4L0DEcFaixBCPfuGT8ultHV13mC2W2C+X2K7X8PoA5QEEj2Rc27E8gr4thdOR8gJjqkhcmj3ylkDfRmgtR4Ff5ncp5RGfCZrgj4AFAFmnhD+tS7UY5V1qf5Xrg55RpkQOinG2BJ2gcho3G+mrHVVkJH4dxXGmLE50hB9Y3iaBnCWZFXw7gtOV49BPzsqTZKKBP2f3iGVUZ2GnqD7ZUoSFzwArSQlwEahhn4AAAAASUVORK5CYII='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"2","title":"","src":"/site-v2.0/static/8429765054e275c1802c69275a09ff7d/ff9d2/2.png","srcSet":["/site-v2.0/static/8429765054e275c1802c69275a09ff7d/0372f/2.png 168w","/site-v2.0/static/8429765054e275c1802c69275a09ff7d/2ec80/2.png 336w","/site-v2.0/static/8429765054e275c1802c69275a09ff7d/ff9d2/2.png 672w","/site-v2.0/static/8429765054e275c1802c69275a09ff7d/b1a62/2.png 701w"],"sizes":"(max-width: 672px) 100vw, 672px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]},{"type":"text","value":"\nThen we need to choose an image for virtual server and choose the monthly plan for that."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 672px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/site-v2.0/static/7f0bd03b099bab08b77dcbe6d49143d0/b602d/3.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 81.54761904761905%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAABb0lEQVR42qVTy27DMAzz///hsMuAHZIFbd6J3+ZEZwqKHbasM6CacRWKEmOTc8Y8zxjHEcuyYBiG+vzsMjklTONBMk1TJWaRpwlTLhjmDOsyvHew1iHGiBDCkwpFzLwCi0SIBaUUJFFNlYq5M/TsJ2wkH/MGvLwBm0MlYOtcTCTWEVC1Yo5Iu3DOndhEIRzEg48eWO1B6L2vLxIrCeM71k44IkZVKCHzA3YJkjNJE7kzUUkesebouY7GHDPgQ/7aC/6zDCvot8d4NISKQ6RqHMMvF0wh677v6Pu+VrDWous6IckYF+D1HZg2GhLRtk01gKtpmvqeYjXSKMm2bYcqmccuOKWCbU8YJyfzLUKYao7OkZjG8B1iLXQqJCkTvQ/yp5V2+bEL+W7hA89jvZrq6Lqup9PEJDxb5sHtdjtbbtv2JG+atrZ72RT+UDKNUcL7/V6r8SqyEBX9iZAkVElVxGyNmG1om5cJ1fbf7ulVwk9dYOzAaag00AAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"3","title":"","src":"/site-v2.0/static/7f0bd03b099bab08b77dcbe6d49143d0/ff9d2/3.png","srcSet":["/site-v2.0/static/7f0bd03b099bab08b77dcbe6d49143d0/0372f/3.png 168w","/site-v2.0/static/7f0bd03b099bab08b77dcbe6d49143d0/2ec80/3.png 336w","/site-v2.0/static/7f0bd03b099bab08b77dcbe6d49143d0/ff9d2/3.png 672w","/site-v2.0/static/7f0bd03b099bab08b77dcbe6d49143d0/7b5cb/3.png 1008w","/site-v2.0/static/7f0bd03b099bab08b77dcbe6d49143d0/b602d/3.png 1067w"],"sizes":"(max-width: 672px) 100vw, 672px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]},{"type":"text","value":"\nAfter creating the droplets, we can start to use the ip address for this droplet to place our files."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"2. Transfer files with SFTP protocol"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The second step is to using SFTP (SSH File Transfer Protocol) to transfer server files in the virtual server."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We can use command line, or use some tools, such as "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"CyperDuck"}]},{"type":"text","value":" to finish the task."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In CyperDuck, we need to select SFTP protocol, select the 22 as port number, and enter the ip address for the virtual server in DigitalServer. As for the username and password, we can use 'root' as the username, and password can be send by DigitalOcean with email. We can also create other users in the virtual server and use the other user name and password to connect to CyperDuck."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"After connecting with CyperDuck, we can put the files in /home directory."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 474px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/site-v2.0/static/df4de6e2b6221773ecf0337e0629ef97/858dc/4.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 82.14285714285714%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAACnklEQVR42n2TSY/TQBSE89vhxoUfwgkQSJy5IJAmie1sk8S720u8r/EAKqrbyYSANIdPr91uV1fXa8/CKEIUxySBEC72Ow26sYam6awrbDZbbLY76LqBFZ9Xqw22u0eYpoX94YBAhIikxoWZbU0v4iiEtjHxdW7CNtewjgZs24F8b9sS+z8cx3lGreXczDAMzOcPMHRZ5/j2/QHLhWSB9XpNR6tnpMsb+h3blc41Bh1S1bRcHA9HmEeTzkzWiyO6s3g0h2PXcSGCEKGYEEGEMLyMiXEMGQMdeq4HLzjBsmx4nqcEfNeF77k8Oseccyw55+E8DBjPZ4zjGb9/DXgaR/x8GtEPI979eIJpB5gd9ge0TYOyqJAwVBElsE8tgqyFT4K8U9VPW7hpw/kG+6jBJ62FCGOEvuB3Mfq240kczORDWZSoq0Y50/Q1Dglfph2FOyU+1Q4WcTm/FR3ez7mRiJXzmEaKTLDLMWYiCChWI0szhIFQeeV5iSwrkXOjsqwnqhtVXWPsa3RNi67r1AmL1KewEhRo6gYeQ1/Ol5ARSPEiL9TCkTnJzGR+f9P3AwbWoe9V7fuzahqb4irBKIxwpJjneLSfIuFFl8JlWTGSAh0zeom+ZTT8VnVZHlnmKIWruoW2j6AvltAWGl0vsNvslON/ybOJjFRsqhJ0L4LXRTK7g1dM941xBJ6P9JSiotOCm8paKdcl2upGz1wdas3kURs+SNErTXX78Oo+zycRKS6jkI07igpmWKlqRzUveiwFY5ySk3IjXclOFVx8f7wSSSY3q6aLz0sfJDVefRjw5vOI1x9HvP3CpggpSAHLNNW/vOI/ud8+KidXhzfKy/xUleu0ouOJIq8hzTFDnx09IUkmYo7F5f98EXWie2SGfwDrM5+zisufwQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"4","title":"","src":"/site-v2.0/static/df4de6e2b6221773ecf0337e0629ef97/858dc/4.png","srcSet":["/site-v2.0/static/df4de6e2b6221773ecf0337e0629ef97/0372f/4.png 168w","/site-v2.0/static/df4de6e2b6221773ecf0337e0629ef97/2ec80/4.png 336w","/site-v2.0/static/df4de6e2b6221773ecf0337e0629ef97/858dc/4.png 474w"],"sizes":"(max-width: 474px) 100vw, 474px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"3. Use PM2 node module to launch node server"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"PM2 is a production process manager for Node.js. We need to access the node server file in command line and install the pm2 node module by the command "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"$ npm install pm2 -g"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In order to access the node server file in command line, we need to use ssh. By using the command "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"$username@ip address"}]},{"type":"text","value":" and entering the password, we can access to virtual server with SSH protocol."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"After accessing to the virtual server, we can install PM2 node module and use it by the command "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"$pm2 start server.js"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There are some other useful commands for PM2, such as the command to stop the virtual server "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"$pm2 stop server.js"}]},{"type":"text","value":", sometimes we need to kill all the processes by "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"$pm2 kill"}]},{"type":"text","value":", and restart the server by "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"$pm2 restart server.js"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"4. Purchase a domain and redirect the domain to the virtual server's IP address"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"After the last three steps, we can already visit the web app by inputting the ip address in the browser."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"But an ip address is not enough, we need a domain name, which is easy to be used and remembered by users. We can purchase domain names in lots of domain name deals such as "},{"type":"element","tagName":"a","properties":{"href":"https://godaddy.com/"},"children":[{"type":"text","value":"Go Daddy"}]},{"type":"text","value":" or "},{"type":"element","tagName":"a","properties":{"href":"https://www.versio.nl/"},"children":[{"type":"text","value":"Versio"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"After purchasing a domain name, we need to redirect the domain name's ip address to our virtual server's ip address in DNS (Domain Name System). For example:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Thanks for reading!"}]}],"data":{"quirksMode":false}},"frontmatter":{"title":"Deploy node server to Digital Ocean with PM2","date":"09 September, 2016"}}},"pageContext":{"slug":"/digitalOcean/"}},"staticQueryHashes":["2080627102","265798717"],"slicesMap":{}}