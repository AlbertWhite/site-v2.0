<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.82 'Merriweather',sans-serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'Merriweather',sans-serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;color:hsla(0,0%,0%,0.9);font-family:'Merriweather Sans',sans-serif;font-weight:800;text-rendering:optimizeLegibility;font-size:2.25rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;color:hsla(0,0%,0%,0.9);font-family:'Merriweather Sans',sans-serif;font-weight:800;text-rendering:optimizeLegibility;font-size:1.62671rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;color:hsla(0,0%,0%,0.9);font-family:'Merriweather Sans',sans-serif;font-weight:800;text-rendering:optimizeLegibility;font-size:1.38316rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;color:hsla(0,0%,0%,0.9);font-family:'Merriweather Sans',sans-serif;font-weight:800;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;color:hsla(0,0%,0%,0.9);font-family:'Merriweather Sans',sans-serif;font-weight:800;text-rendering:optimizeLegibility;font-size:0.85028rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;color:hsla(0,0%,0%,0.9);font-family:'Merriweather Sans',sans-serif;font-weight:800;text-rendering:optimizeLegibility;font-size:0.78405rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;}ul{margin-left:1.82rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.82rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;font-size:0.85rem;line-height:1.82rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;font-size:1rem;line-height:1.82rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;}blockquote{margin-left:0;margin-right:1.82rem;margin-top:0;padding-bottom:0;padding-left:2.0475rem;padding-right:0;padding-top:0;margin-bottom:1.82rem;font-size:1.17608rem;line-height:1.82rem;color:hsla(0,0%,0%,0.59);border-left:0.6825rem solid;border-color:hsla(0,0%,0%,0.1);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.82rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.82rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.82rem;margin-bottom:calc(1.82rem / 2);margin-top:calc(1.82rem / 2);}li > ul{margin-left:1.82rem;margin-bottom:calc(1.82rem / 2);margin-top:calc(1.82rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.82rem / 2);}code{font-size:0.85rem;line-height:1.82rem;}kbd{font-size:0.85rem;line-height:1.82rem;}samp{font-size:0.85rem;line-height:1.82rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.21333rem;padding-right:1.21333rem;padding-top:0.91rem;padding-bottom:calc(0.91rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}a{color:#375c85;text-decoration:none;box-shadow:0 1px 0 0 currentColor;}a:hover,a:active{box-shadow:none;}h1,h2,h3,h4,h5,h6{margin-top:3.64rem;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.82rem;color:hsla(0,0%,0%,0.8);font-weight:400;}blockquote cite:before{content:"â€” ";}@media only screen and (max-width:480px){blockquote{margin-left:-1.365rem;margin-right:0;border-left:0.34125rem solid;border-color:hsla(0,0%,0%,0.1);padding-left:1.02375rem;}}@media only screen and (max-width:768px){html{font-size:93.75%;line-height:27.35px;}}</style><meta name="generator" content="Gatsby 5.13.0"/><style data-href="/site-v2.0/styles.8986dcf88797311951de.css" data-identity="gatsby-global-css">body,html{min-height:100vh}html{--app-main-color:#639;align-items:center;background-color:#fff;margin:0 auto;max-width:672px;@media (max-width:768px){max-width:80%}}body.dark{background:#282c35;color:#fff}body.dark h2,body.dark h3,body.dark h4,body.dark p{color:#fff!important}body.dark a,body.dark a h3{color:#e0c1ff}body.dark a div{color:#fff}body.dark .filterContainer{background-color:#282c35}a{color:var(--app-main-color,#639);color:#639}a:hover{box-shadow:0 1px 0 0 currentColor}pre[class*=language-]{font-size:.8em!important;white-space:pre-wrap!important}.react-toggle--focus .react-toggle-thumb{box-shadow:none!important}.customToggle.react-toggle--checked .react-toggle-track,.customToggle.react-toggle--checked:hover:not(.react-toggle--disabled) .react-toggle-track{background-color:#639;background-color:var(--app-main-color,#639)}.gatsby-highlight pre[class*=language-].line-numbers{padding-left:2.8em}.gatsby-highlight{background-color:#fdf6e3;border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}.gatsby-highlight pre[class*=language-].line-numbers{overflow:initial;padding:0 0 0 2.8em}code[class*=language-],pre[class*=language-]{word-wrap:normal;color:#657b83;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#073642}pre[class*=language-]{border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#fdf6e3}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#93a1a1}.token.punctuation{color:#586e75}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#268bd2}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string,.token.url{color:#2aa198}.token.entity{background:#eee8d5;color:#657b83}.token.atrule,.token.attr-value,.token.keyword{color:#859900}.token.class-name,.token.function{color:#b58900}.token.important,.token.regex,.token.variable{color:#cb4b16}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}pre[class*=language-].line-numbers{counter-reset:linenumber;padding-left:3.8em;position:relative}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{border-right:1px solid #999;font-size:100%;left:-3.8em;letter-spacing:-1px;pointer-events:none;position:absolute;top:0;-webkit-user-select:none;user-select:none;width:3em}.line-numbers-rows>span{counter-increment:linenumber;display:block}.line-numbers-rows>span:before{color:#999;content:counter(linenumber);display:block;padding-right:.8em;text-align:right}.react-toggle{-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;background-color:transparent;border:0;cursor:pointer;display:inline-block;padding:0;position:relative;touch-action:pan-x;-webkit-user-select:none;user-select:none}.react-toggle-screenreader-only{clip:rect(0 0 0 0);border:0;height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.react-toggle--disabled{cursor:not-allowed;opacity:.5;transition:opacity .25s}.react-toggle-track{background-color:#4d4d4d;border-radius:30px;height:24px;padding:0;transition:all .2s ease;width:50px}.react-toggle:hover:not(.react-toggle--disabled) .react-toggle-track{background-color:#000}.react-toggle--checked .react-toggle-track{background-color:#19ab27}.react-toggle--checked:hover:not(.react-toggle--disabled) .react-toggle-track{background-color:#128d15}.react-toggle-track-check{bottom:0;height:10px;left:8px;line-height:0;margin-bottom:auto;margin-top:auto;opacity:0;position:absolute;top:0;transition:opacity .25s ease;width:14px}.react-toggle--checked .react-toggle-track-check,.react-toggle-track-x{opacity:1;transition:opacity .25s ease}.react-toggle-track-x{bottom:0;height:10px;line-height:0;margin-bottom:auto;margin-top:auto;position:absolute;right:10px;top:0;width:10px}.react-toggle--checked .react-toggle-track-x{opacity:0}.react-toggle-thumb{background-color:#fafafa;border:1px solid #4d4d4d;border-radius:50%;box-sizing:border-box;height:22px;left:1px;position:absolute;top:1px;transition:all .5s cubic-bezier(.23,1,.32,1) 0ms;transition:all .25s ease;width:22px}.react-toggle--checked .react-toggle-thumb{border-color:#19ab27;left:27px}.react-toggle--focus .react-toggle-thumb{box-shadow:0 0 2px 3px #0099e0}.react-toggle:active:not(.react-toggle--disabled) .react-toggle-thumb{box-shadow:0 0 5px 5px #0099e0}</style><link href="//fonts.googleapis.com/css?family=Merriweather+Sans:800|Merriweather:400,400i,700" rel="stylesheet" type="text/css"/><style data-styled="" data-styled-version="6.1.8">.iqYGQi{color:#663399;color:var(--app-main-color,#663399);}/*!sc*/
data-styled.g5[id="blog__StyledTitle-sc-1dnbuxy-0"]{content:"iqYGQi,"}/*!sc*/
.jHXVia{font-size:0.8rem;color:inherit;margin-bottom:2rem;}/*!sc*/
data-styled.g6[id="blog__StyledDate-sc-1dnbuxy-1"]{content:"jHXVia,"}/*!sc*/
.kwpZJy{margin:0 1rem;}/*!sc*/
data-styled.g7[id="blog__StyledDevider-sc-1dnbuxy-2"]{content:"kwpZJy,"}/*!sc*/
</style></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div id="anchor"><h2 class="blog__StyledTitle-sc-1dnbuxy-0 iqYGQi">Angular 1 Guideline</h2><div class="blog__StyledDate-sc-1dnbuxy-1 jHXVia">04 June, 2017</div><div><div><p>During the last two months, I did an internship as a front-end developer for Angular. The project is well-structured, and strictly follow <a href="https://github.com/johnpapa/angular-styleguide">the angular guideline from John Papa</a>. Here are the best practices:</p>
<h3>1. Module and Sub Module</h3>
<p>Make the app as component based. For each component, define directive, controller. Use service or resource to share data between them.</p>
<p>While creating modules, it is important to know whether we need to create this module, or we can just make a submodule.</p>
<p>All modules should be defined into one file with its injection. Please be aware that submodules should be defined as the injecting of main module. Please take a look at code in app/app.js.</p>
<div class="gatsby-highlight" data-language="js"><pre style="counter-reset:linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  angular<span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">&quot;mainModule&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;ui.router&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;ngResource&quot;</span><span class="token punctuation">,</span>

    <span class="token string">&quot;mainModule.subModule1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;mainModule.subModule2&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span>

  angular<span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">&quot;mainModule.subModule1&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  angular<span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">&quot;mainModule.subModule2&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h3>2. IIFE: the better way to define directive, controller, and service</h3>
<p>Use IIFE (Immediately Invoked Funcion ExHighlightssion) while defining modules, creating controller, directive or service. As we know, all the controller, service and directive will be injected into index.html, use IIFE to <strong>avoid variable collisions</strong> and ensure variables are not global. <a href="https://github.com/johnpapa/angular-styleguide/blob/master/a1/README.md#style-y010">Here</a> is how Johnpapa describes it.</p>
<div class="gatsby-highlight" data-language="js"><pre style="counter-reset:linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token comment">//IIFE</span>

<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//here goes js code</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>In Angular, we can define directive, controller and service. They are necessary and serve for different roles, it is not a good practice to write them all in one file. The better way is to separate them into different files. For example:</p>
<div class="gatsby-highlight" data-language="js"><pre style="counter-reset:linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token comment">// some.controller.js</span>
angular<span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">&quot;app&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">controller</span><span class="token punctuation">(</span><span class="token string">&quot;SomeController&quot;</span><span class="token punctuation">,</span> SomeController<span class="token punctuation">)</span> <span class="token comment">// for reducing nested code</span>

<span class="token keyword">function</span> <span class="token function">SomeController</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// some.direcive.js</span>
angular<span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">&quot;app&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">&quot;SomeDirective&quot;</span><span class="token punctuation">,</span> SomeDirective<span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">SomeDirective</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// some.factory.js</span>
angular<span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">&quot;app&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">factory</span><span class="token punctuation">(</span><span class="token string">&quot;someFactory&quot;</span><span class="token punctuation">,</span> someFactory<span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">someFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h3>3. Module with route.js with element directive</h3>
<p>There are two ways to create a html block. The first way is to define a module or submodule with defining its routes.</p>
<p>The second way to create a html block is by creating a directive, mostly an element directive.</p>
<p>A module with route.js is the container for element directive.</p>
<h3>4. Angular-UI router</h3>
<p>In order to use Angular UI router, we need to download and then inject as the dependency of main module.</p>
<p>While configuring routes, we need to use the stateprovider to define the state. Please note that after defining the state, we need to add a &#x27;#&#x27; for using the url. For example, if we define a state: index, we need to use /#/index to call it.</p>
<p>We can use urlRouterProvider.otherwise to redirect url which is not defined.</p>
<p>After we define states, use <code class="language-text">ui-sref=</code> state to create links.</p>
<p>In routes, we can pass variables when we initiate a module. We can do that in the <strong>resolve</strong> function in routeConfig. The variable passed by route should be injected into the controller.</p>
<h3>5. Controller and passing value</h3>
<p>In controller, it should be like this:</p>
<div class="gatsby-highlight" data-language="js"><pre style="counter-reset:linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  angular
    <span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">&quot;mainModule.subModule1&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">controller</span><span class="token punctuation">(</span><span class="token string">&quot;SubModuleController1&quot;</span><span class="token punctuation">,</span> SubModuleController1<span class="token punctuation">)</span> <span class="token comment">//Highlightvent nested code</span>

  SubModuleController1<span class="token punctuation">.</span>$inject <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

  <span class="token keyword">function</span> <span class="token function">SubModuleController1</span><span class="token punctuation">(</span><span class="token parameter">Sub1Service</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">this</span> <span class="token comment">//use vm instead of this, to make sure we can use the parent scope in functions.</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>We use <code class="language-text">vm =</code> this and we can use vm. to access variables in the scope.</p>
<p>While using directive component, we can pass parameters from parent component.</p>
<p>A controller should only serves for a certain component. If there are common functions which can reused in controller, we should write them into service.</p>
<h3>6. Directive</h3>
<p>It is easy to write lots of things in one directive, but it is difficult to separate them afterwards, since the code and logic have been twisted together, so before writing code, it is good to seperate each directive.</p>
<p>We can manipulate DOM in a controller, for example, by using <strong>angular.element(event.target)</strong> , we can get the trigger element and after we can use jquery functions to manipulate. It is better to manipulate DOM in directive.</p>
<div class="gatsby-highlight" data-language="js"><pre style="counter-reset:linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">function</span> <span class="token function">link</span><span class="token punctuation">(</span><span class="token parameter">scope<span class="token punctuation">,</span> element<span class="token punctuation">,</span> attrs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span></span></pre></div>
<p>In the link function, the element is already the trigger element. With the scope, we can get the parameters passed. We can pass a function, a variable, or a string.</p>
<p>In the directive, we need to set <strong>bindToController</strong> to true, and define the variables passed in the scope.</p>
<div class="gatsby-highlight" data-language="js"><pre style="counter-reset:linenumber NaN" class="language-js line-numbers"><code class="language-js">scope<span class="token punctuation">{</span>
  <span class="token comment">// = for passing a virable</span>
  <span class="token comment">// @ for passing a string</span>
  <span class="token comment">// &amp; for passing a function</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h3>7. Service and factory</h3>
<p>If there are functions we can reuse, we should define them into a service. At first, we need to use a factory method to create a service.</p>
<div class="gatsby-highlight" data-language="js"><pre style="counter-reset:linenumber NaN" class="language-js line-numbers"><code class="language-js">angular<span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">&quot;mainModule.subModule1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">factory</span><span class="token punctuation">(</span><span class="token string">&quot;Sub1Service&quot;</span><span class="token punctuation">,</span> Sub1Service<span class="token punctuation">)</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span></span></pre></div>
<p>As with what John papa <a href="https://github.com/johnpapa/angular-styleguide/blob/master/a1/README.md#style-y040">says</a>, it is better to return a service as an object which contains the functions you want to pass, for example:</p>
<div class="gatsby-highlight" data-language="js"><pre style="counter-reset:linenumber NaN" class="language-js line-numbers"><code class="language-js">    <span class="token keyword">function</span> <span class="token function">xService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> service <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">a</span><span class="token operator">:</span>a<span class="token punctuation">,</span>
      <span class="token literal-property property">b</span><span class="token operator">:</span>b
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> service<span class="token punctuation">;</span>

    <span class="token comment">//////////////////////</span>

    <span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">var</span> x</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">var</span> y</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h3>8. Observer design patterns with service: service for subscribe and notify</h3>
<p>Service holds the information which is shared by different components, once the information is changed in service, the information should be updated in all controllers.</p>
<p>Angular.watch is not the best solution, it is better to add a <a href="http://www.dofactory.com/javascript/observer-design-pattern">observer</a> design patterns in service. With angular.watch.</p>
<p>Here is how it works with observer design patterns, in service.js, we need to add two functions: subscribe and notify. Subscribe function is for adding callbacks functions in the observer. Notify function is for updating all the functions in observer.</p>
<p>If we want to use in other component, just use the subscribe function in service.</p>
<p>In the beginning, we use subscribe function to add all the components which need to be updated. Once value is updated in service, the notify function will notify all the functions to update the value.</p>
<h3>9. Promise in Angular</h3>
<p>Promise is useful for dealing with asynchronous functions. Here is the simple example:</p>
<div class="gatsby-highlight" data-language="js"><pre style="counter-reset:linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">var</span> promise <span class="token operator">=</span> <span class="token function">$http</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&quot;/someUrl&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
  <span class="token keyword">function</span> <span class="token function">successCallback</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// this callback will be called asynchronously</span>
    <span class="token comment">// when the response is available</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span> <span class="token function">errorCallback</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// called asynchronously if an error occurs</span>
    <span class="token comment">// or server returns response with an error status.</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>$http call returns a promise, we can use $http.then() to add the functions which are executed after the $http service.</p>
<p>In Angular, Promise is written as $q service.</p>
<p>Sometimes there are more than one $http calling, and we need to gather all the promise together. In order to do this, we can use <code class="language-text">Promise.all(arrayOfPromise)</code>.</p>
<p>We can pass the promise as variables and use promise.then() whenever we want to add callback functions.</p>
<h3>10. Angular Resource and Service</h3>
<p>Angular Resource is for managing all the Restful API. Like UI-Route service, we need to inject &#x27;ngResource&#x27; in angular.module, for example, in app.js.</p>
<p>Afterwards, we can create a Resource by using the factory method.</p>
<p>We can see in the service, we create a resource:</p>
<div class="gatsby-highlight" data-language="js"><pre style="counter-reset:linenumber NaN" class="language-js line-numbers"><code class="language-js">angular<span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">&quot;mainModule.subModule1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">factory</span><span class="token punctuation">(</span><span class="token string">&quot;Sub1Resource&quot;</span><span class="token punctuation">,</span> Sub1Resource<span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">Sub1Resource</span><span class="token punctuation">(</span><span class="token parameter">$resource</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">$resource</span><span class="token punctuation">(</span>
    <span class="token string">&quot;https://randomuser.me/api/&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">getUser</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&quot;https://randomuser.me/api&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>And then use it in service:</p>
<div class="gatsby-highlight" data-language="js"><pre style="counter-reset:linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getDataFromResource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//singleton design pattern</span>
  <span class="token comment">//one time, just one instance for the className</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>getUserPromise<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    getUserPromise <span class="token operator">=</span> Sub1Resource<span class="token punctuation">.</span><span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>$promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">results</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      getUserPromise <span class="token operator">=</span> <span class="token keyword">null</span>
      <span class="token keyword">return</span> results
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> getUserPromise
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Using resource is not necessary, but it is good to have a resource to manage all the urls and restful api.</p>
<p>Thanks for reading and welcome for any feedback or opinions!</p></div></div><div><a href="/site-v2.0/blog/">Back to Blogs</a><span class="blog__StyledDevider-sc-1dnbuxy-2 kwpZJy">|</span><a href="/">Go to Top</a></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/guideline/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-8b843682a0a4ed3268fb.js\"],\"component---cache-caches-gatsby-plugin-offline-app-shell-js\":[\"/component---cache-caches-gatsby-plugin-offline-app-shell-js-3e77c44618267e9d1005.js\"],\"component---src-components-blog-tsx\":[\"/component---src-components-blog-tsx-1d5b1ad62b2478af715b.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-527199df2f1ba2c6c5af.js\"],\"component---src-pages-about-tsx\":[\"/component---src-pages-about-tsx-a97d2cbadf143c2f8306.js\"],\"component---src-pages-code-tsx\":[\"/component---src-pages-code-tsx-c80bc752918c10741088.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-c1837cf5c64b6c07292c.js\"],\"component---src-pages-music-tsx\":[\"/component---src-pages-music-tsx-c557ef2d5dc2b54268fe.js\"],\"component---src-pages-ux-tsx\":[\"/component---src-pages-ux-tsx-f3487f8c576d9ac0f1c3.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="eb9b50ccac76a7bb2581";</script><script src="/site-v2.0/webpack-runtime-1c8e9602bf10db530e7b.js" async></script><script src="/site-v2.0/framework-2c6e23597628f64eccfb.js" async></script><script src="/site-v2.0/app-8b843682a0a4ed3268fb.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>