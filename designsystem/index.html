<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.82 'Merriweather',sans-serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'Merriweather',sans-serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;color:hsla(0,0%,0%,0.9);font-family:'Merriweather Sans',sans-serif;font-weight:800;text-rendering:optimizeLegibility;font-size:2.25rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;color:hsla(0,0%,0%,0.9);font-family:'Merriweather Sans',sans-serif;font-weight:800;text-rendering:optimizeLegibility;font-size:1.62671rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;color:hsla(0,0%,0%,0.9);font-family:'Merriweather Sans',sans-serif;font-weight:800;text-rendering:optimizeLegibility;font-size:1.38316rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;color:hsla(0,0%,0%,0.9);font-family:'Merriweather Sans',sans-serif;font-weight:800;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;color:hsla(0,0%,0%,0.9);font-family:'Merriweather Sans',sans-serif;font-weight:800;text-rendering:optimizeLegibility;font-size:0.85028rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;color:hsla(0,0%,0%,0.9);font-family:'Merriweather Sans',sans-serif;font-weight:800;text-rendering:optimizeLegibility;font-size:0.78405rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;}ul{margin-left:1.82rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.82rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;font-size:0.85rem;line-height:1.82rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;font-size:1rem;line-height:1.82rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;}blockquote{margin-left:0;margin-right:1.82rem;margin-top:0;padding-bottom:0;padding-left:2.0475rem;padding-right:0;padding-top:0;margin-bottom:1.82rem;font-size:1.17608rem;line-height:1.82rem;color:hsla(0,0%,0%,0.59);border-left:0.6825rem solid;border-color:hsla(0,0%,0%,0.1);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.82rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.82rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.82rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.82rem;margin-bottom:calc(1.82rem / 2);margin-top:calc(1.82rem / 2);}li > ul{margin-left:1.82rem;margin-bottom:calc(1.82rem / 2);margin-top:calc(1.82rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.82rem / 2);}code{font-size:0.85rem;line-height:1.82rem;}kbd{font-size:0.85rem;line-height:1.82rem;}samp{font-size:0.85rem;line-height:1.82rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.21333rem;padding-right:1.21333rem;padding-top:0.91rem;padding-bottom:calc(0.91rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}a{color:#375c85;text-decoration:none;box-shadow:0 1px 0 0 currentColor;}a:hover,a:active{box-shadow:none;}h1,h2,h3,h4,h5,h6{margin-top:3.64rem;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.82rem;color:hsla(0,0%,0%,0.8);font-weight:400;}blockquote cite:before{content:"— ";}@media only screen and (max-width:480px){blockquote{margin-left:-1.365rem;margin-right:0;border-left:0.34125rem solid;border-color:hsla(0,0%,0%,0.1);padding-left:1.02375rem;}}@media only screen and (max-width:768px){html{font-size:93.75%;line-height:27.35px;}}</style><meta name="generator" content="Gatsby 5.13.0"/><style data-href="/site-v2.0/styles.8986dcf88797311951de.css" data-identity="gatsby-global-css">body,html{min-height:100vh}html{--app-main-color:#639;align-items:center;background-color:#fff;margin:0 auto;max-width:672px;@media (max-width:768px){max-width:80%}}body.dark{background:#282c35;color:#fff}body.dark h2,body.dark h3,body.dark h4,body.dark p{color:#fff!important}body.dark a,body.dark a h3{color:#e0c1ff}body.dark a div{color:#fff}body.dark .filterContainer{background-color:#282c35}a{color:var(--app-main-color,#639);color:#639}a:hover{box-shadow:0 1px 0 0 currentColor}pre[class*=language-]{font-size:.8em!important;white-space:pre-wrap!important}.react-toggle--focus .react-toggle-thumb{box-shadow:none!important}.customToggle.react-toggle--checked .react-toggle-track,.customToggle.react-toggle--checked:hover:not(.react-toggle--disabled) .react-toggle-track{background-color:#639;background-color:var(--app-main-color,#639)}.gatsby-highlight pre[class*=language-].line-numbers{padding-left:2.8em}.gatsby-highlight{background-color:#fdf6e3;border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}.gatsby-highlight pre[class*=language-].line-numbers{overflow:initial;padding:0 0 0 2.8em}code[class*=language-],pre[class*=language-]{word-wrap:normal;color:#657b83;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#073642}pre[class*=language-]{border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#fdf6e3}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#93a1a1}.token.punctuation{color:#586e75}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#268bd2}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string,.token.url{color:#2aa198}.token.entity{background:#eee8d5;color:#657b83}.token.atrule,.token.attr-value,.token.keyword{color:#859900}.token.class-name,.token.function{color:#b58900}.token.important,.token.regex,.token.variable{color:#cb4b16}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}pre[class*=language-].line-numbers{counter-reset:linenumber;padding-left:3.8em;position:relative}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{border-right:1px solid #999;font-size:100%;left:-3.8em;letter-spacing:-1px;pointer-events:none;position:absolute;top:0;-webkit-user-select:none;user-select:none;width:3em}.line-numbers-rows>span{counter-increment:linenumber;display:block}.line-numbers-rows>span:before{color:#999;content:counter(linenumber);display:block;padding-right:.8em;text-align:right}.react-toggle{-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;background-color:transparent;border:0;cursor:pointer;display:inline-block;padding:0;position:relative;touch-action:pan-x;-webkit-user-select:none;user-select:none}.react-toggle-screenreader-only{clip:rect(0 0 0 0);border:0;height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.react-toggle--disabled{cursor:not-allowed;opacity:.5;transition:opacity .25s}.react-toggle-track{background-color:#4d4d4d;border-radius:30px;height:24px;padding:0;transition:all .2s ease;width:50px}.react-toggle:hover:not(.react-toggle--disabled) .react-toggle-track{background-color:#000}.react-toggle--checked .react-toggle-track{background-color:#19ab27}.react-toggle--checked:hover:not(.react-toggle--disabled) .react-toggle-track{background-color:#128d15}.react-toggle-track-check{bottom:0;height:10px;left:8px;line-height:0;margin-bottom:auto;margin-top:auto;opacity:0;position:absolute;top:0;transition:opacity .25s ease;width:14px}.react-toggle--checked .react-toggle-track-check,.react-toggle-track-x{opacity:1;transition:opacity .25s ease}.react-toggle-track-x{bottom:0;height:10px;line-height:0;margin-bottom:auto;margin-top:auto;position:absolute;right:10px;top:0;width:10px}.react-toggle--checked .react-toggle-track-x{opacity:0}.react-toggle-thumb{background-color:#fafafa;border:1px solid #4d4d4d;border-radius:50%;box-sizing:border-box;height:22px;left:1px;position:absolute;top:1px;transition:all .5s cubic-bezier(.23,1,.32,1) 0ms;transition:all .25s ease;width:22px}.react-toggle--checked .react-toggle-thumb{border-color:#19ab27;left:27px}.react-toggle--focus .react-toggle-thumb{box-shadow:0 0 2px 3px #0099e0}.react-toggle:active:not(.react-toggle--disabled) .react-toggle-thumb{box-shadow:0 0 5px 5px #0099e0}</style><link href="//fonts.googleapis.com/css?family=Merriweather+Sans:800|Merriweather:400,400i,700" rel="stylesheet" type="text/css"/><style data-styled="" data-styled-version="6.1.8">.iqYGQi{color:#663399;color:var(--app-main-color,#663399);}/*!sc*/
data-styled.g5[id="blog__StyledTitle-sc-1dnbuxy-0"]{content:"iqYGQi,"}/*!sc*/
.jHXVia{font-size:0.8rem;color:inherit;margin-bottom:2rem;}/*!sc*/
data-styled.g6[id="blog__StyledDate-sc-1dnbuxy-1"]{content:"jHXVia,"}/*!sc*/
.kwpZJy{margin:0 1rem;}/*!sc*/
data-styled.g7[id="blog__StyledDevider-sc-1dnbuxy-2"]{content:"kwpZJy,"}/*!sc*/
</style></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div id="anchor"><h2 class="blog__StyledTitle-sc-1dnbuxy-0 iqYGQi">React design system with typescript and storybook</h2><div class="blog__StyledDate-sc-1dnbuxy-1 jHXVia">08 April, 2020</div><div><div><p><a href="https://medium.com/@albertyuebaixu/react-design-system-with-typescript-and-storybook-1a99cdba24c6">Read this article on medium</a></p>
<p>A design system should serve two things: export shared components, and show what shared components we have.</p>
<p>In this article, I will cover some technical details on the popular implementation of a design system with React + TypeScript + Storybook.</p>
<p>Here is the <a href="(https://github.com/AlbertWhite/react-design-system-with-typescript-storybook)">source code</a> and an <a href="https://github.com/AlbertWhite/react-demos/blob/master/demo44-use-exterior-lib/src/App.js">example project</a> to import and use it.</p>
<p>Let’s GO !</p>
<h4>1. Webpack Configuration for JS library</h4>
<p>First of all, how do we create a system for sharing components? There are two choices:</p>
<p>The first choice is to export jsx files directly, without compiling.
The second choice is to compile the es6 jsx code components into es5 and export the bundle code.</p>
<p>It depends on how we want to use it. If the component uses typescript, but the project who imports it doesn’t use typescript, then it is not possible to import it directly. If the webpack configuration of the main project allows a mixture of javascript and typescript, it won’t be a problem to import typescript components directly.</p>
<p>In this article, let’s imagine that you choose the second choice. It’s more technically challenging.</p>
<p>Like other jsx projects, we need webpack and babel to compile. However, the Design system is not a SPA (Single Page Application), but a javascript library with lots of exports.</p>
<p><strong>Technically, extra configurations are needed in Webpack if it is used for creating bundle for js libraries.</strong></p>
<p>Here is the <a href="https://webpack.js.org/guides/author-libraries/">official doc for webpack</a> about how to authoring libraries. It&#x27;s long but worth to read, but if you want to know the key differences, here it is, in the config of webpack:</p>
<div class="gatsby-highlight" data-language="js"><pre style="counter-reset:linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#x27;index.bundle.js&#x27;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#x27;dist&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">library</span><span class="token operator">:</span> <span class="token string">&#x27;exterior-ui-lib&#x27;</span><span class="token punctuation">,</span> <span class="token comment">// used for creating a lib</span>
    <span class="token literal-property property">libraryTarget</span><span class="token operator">:</span> <span class="token string">&#x27;umd&#x27;</span><span class="token punctuation">,</span> <span class="token comment">// used for creating a lib</span>
    <span class="token literal-property property">umdNamedDefine</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// used for creating a lib</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Here is the <a href="https://github.com/AlbertWhite/react-design-system-with-typescript-storybook/blob/master/webpack.js">webpack configuration in the demo</a>. Another trick for webpack in Design system is that there is no dev mode. Development mode can be implemented with storybook directly.</p>
<h4>2. Component structure: Atomic design</h4>
<p>The idea of Atomic design was pioneered by <a href="https://bradfrost.com/">Brad Frost</a> in 2013. This design concept is also very useful for organizing the components in Design system. The five core concepts are:</p>
<ol>
<li>Atoms: Basic HTML controls</li>
<li>Molecules: Combined HTML controls, group inputs etc</li>
<li>Organisms: Footer, Header, ...</li>
<li>Templates: Layout</li>
<li>Pages</li>
</ol>
<p>It’ s not urged to use Atomic Design for your storybook, but it will give you an idea on how to organize the components in different levels.</p>
<h4>3. How to export components</h4>
<p>Design system is a javascript library. Like any library, it should be easy to use, easy to look for what we need.</p>
<p>In the <a href="https://github.com/AlbertWhite/react-design-system-with-typescript-storybook/blob/master/src/index.tsx">index.js</a>, a recommended way for exporting:</p>
<div class="gatsby-highlight" data-language="js"><pre style="counter-reset:linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">export</span> <span class="token punctuation">{</span> <span class="token keyword">default</span> <span class="token keyword">as</span> Link <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./components/atoms/Link&quot;</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> <span class="token keyword">default</span> <span class="token keyword">as</span> Text <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./components/atoms/Text&quot;</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> <span class="token keyword">default</span> <span class="token keyword">as</span> Box <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./components/atoms/Box&quot;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span></span></pre></div>
<p>then in the project who imports the design system, we can easily import the components by</p>
<div class="gatsby-highlight" data-language="js"><pre style="counter-reset:linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Text<span class="token punctuation">,</span> Link<span class="token punctuation">,</span> Box <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;exterior-ui-lib&quot;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span></span></pre></div>
<h4>4. Manage the Dependencies in package.json</h4>
<p>If the components in Design system are already compiled,we don’t need to add any dependency in package.json. Dependencies like react, react-dom should be in peerDependencies, and other dependencies can be in devDependencies.</p>
<p>Then, in the “files” configuration in package.json, we only need bundle.js, so the package.json will be like this:</p>
<div class="gatsby-highlight" data-language="js"><pre style="counter-reset:linenumber NaN" class="language-js line-numbers"><code class="language-js"> <span class="token string-property property">&quot;files&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;./dist/index.bundle.js&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;peerDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;react-dom&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^16.13.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;react&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^16.13.0&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//... the rest dependencies</span>
  <span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Here is the <a href="https://github.com/AlbertWhite/react-design-system-with-typescript-storybook/blob/master/package.json">full example</a> for package.json.</p>
<p>In this way, after we make the npm install, the design system library will be very light:</p>
<p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:500px">
      <a class="gatsby-resp-image-link" href="/site-v2.0/static/60322f05d82b673195292c14fa57f89b/b30f8/1.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:51.78571428571428%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABZklEQVR42o2S6U7CQBSFpwrIroIoZWkhhWJJVRAURYxp0QrFsi+a+P6vcbwdQoyKwI+bO9N2Tr97zjCWNhEs2IhqDuSbCbTHD5Ra78g3ZhCrQ4iVIXK3UxSbc7BMe0OZYJIF5m6ELBX1oNIh8Q78yivvvryFgLLs7n5nQZcyrPYQKnah3s+h3M3gkZ7BUiYEerf6RthZkGpffiERC2ESDRGNQGKMlwEmGj/Xq5/8T9iGVzagt+uIlS1I9SnOyceVf5naGOrDgnxcIEW+Btzx/4j+ItwjH4OFJ/hkExGiPNZ63LeI2kVUtXmPld8Q1/vw5KztgtlGE4kLAwl9xMlOLwe8x3WHnjlIXhEZhcOSBp9o68hHWovKRKoypsMDEuzzcERan9E6fT1aJr3WvzWEB7VPeIsOYpqNExrLpXNHPKRxXdoQXSUeSHbHlP3VObx0ddJkep6CkOoTohqTDUu6aMneQPct+AWVJiD9qHcQiQAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="1" title="" src="/site-v2.0/static/60322f05d82b673195292c14fa57f89b/b30f8/1.png" srcSet="/site-v2.0/static/60322f05d82b673195292c14fa57f89b/0372f/1.png 168w, /site-v2.0/static/60322f05d82b673195292c14fa57f89b/2ec80/1.png 336w, /site-v2.0/static/60322f05d82b673195292c14fa57f89b/b30f8/1.png 500w" sizes="(max-width: 500px) 100vw, 500px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span></p>
<h4>5. Version management</h4>
<p>An update of the library needs to be accompanied with a new version in package.json. If the project is hosted on git, a new tag will be pushed for the new version.</p>
<p>In Terminal, the commands are:</p>
<div class="gatsby-highlight" data-language="js"><pre style="counter-reset:linenumber NaN" class="language-js line-numbers"><code class="language-js">npm version <span class="token comment">//update package.json and create a new tag</span>
git push <span class="token operator">--</span>follow<span class="token operator">-</span>tags <span class="token comment">// push tags</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span></span></pre></div>
<p>And then we can update the version for this dependency in package.json of the main project who imports it:</p>
<p><code class="language-text">&quot;exterior-ui-lib&quot;: &quot;git+https://github.com/AlbertWhite/Styled-system-and-storybook.git#v1.0.11&quot;</code></p>
<h4>6. Storybook</h4>
<p>Storybook is necessary for a react based Design system, to be able to demonstrate and debug.</p>
<p>The official tutorial of storybook is well written, and here is my <a href="https://github.com/AlbertWhite/react-design-system-with-typescript-storybook/blob/master/.storybook/main.js">storybook config with typescript</a> in the demo..</p>
<h4>7. Optional: Typescript</h4>
<p>We can also integrate typescript in Design system just by adding some extra config for webpack, and creating tsconfig.js for configurer typescript. The official documentation is well written, or you can check how it is done in the <a href="https://github.com/AlbertWhite/react-design-system-with-typescript-storybook">demo</a></p>
<h4>8. Optional: Styled System</h4>
<p><a href="https://styled-system.com/">Styled System</a> lets you quickly build custom UI components with constraint-based style props, which means, you can add js-like props to control css. It&#x27;s built upon styled components.</p>
<p>Styled system is really useful to create container components, for example <code class="language-text">&lt;Box&gt;</code>, <code class="language-text">&lt;Flex&gt;</code>.</p>
<p>Here is an example:</p>
<p>The definition of <a href="https://github.com/AlbertWhite/react-design-system-with-typescript-storybook/blob/master/src/components/atoms/Box/index.tsx">a component</a> with styled-system:</p>
<div class="gatsby-highlight" data-language="js"><pre style="counter-reset:linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">import</span> styled <span class="token keyword">from</span> <span class="token string">&quot;styled-components&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> color<span class="token punctuation">,</span> ColorProps<span class="token punctuation">,</span> space<span class="token punctuation">,</span> SpaceProps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;styled-system&quot;</span>

type BoxProps <span class="token operator">=</span> ColorProps <span class="token operator">&amp;</span> SpaceProps

<span class="token keyword">const</span> Box <span class="token operator">=</span>
  styled<span class="token punctuation">.</span>div <span class="token operator">&lt;</span>
  BoxProps <span class="token operator">&gt;</span>
  <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>color<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>space<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,
</span><span class="token template-punctuation string">`</span></span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Box</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>The use of it in <a href="https://github.com/AlbertWhite/react-demos/blob/master/demo44-use-exterior-lib/src/App.js">another</a></p>
<div class="gatsby-highlight" data-language="js"><pre style="counter-reset:linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token operator">&lt;</span>Box marginTop<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;180px&quot;</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>Text<span class="token operator">&gt;</span>Hello world<span class="token operator">&lt;</span><span class="token operator">/</span>Text<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>Link href<span class="token operator">=</span><span class="token string">&quot;https://www.google.com&quot;</span><span class="token operator">&gt;</span>Hello world<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>Box<span class="token operator">&gt;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span></span></pre></div>
<p>Here is the full demo for the <a href="https://github.com/AlbertWhite/react-design-system-with-typescript-storybook">design system</a> and a <a href="https://github.com/AlbertWhite/react-demos/blob/master/demo44-use-exterior-lib/src/App.js">sample project</a> to use it.</p>
<p>Hope this article helps you! Thank you for reading this article!</p></div></div><div><a href="/site-v2.0/blog/">Back to Blogs</a><span class="blog__StyledDevider-sc-1dnbuxy-2 kwpZJy">|</span><a href="/">Go to Top</a></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/designsystem/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-8b843682a0a4ed3268fb.js\"],\"component---cache-caches-gatsby-plugin-offline-app-shell-js\":[\"/component---cache-caches-gatsby-plugin-offline-app-shell-js-3e77c44618267e9d1005.js\"],\"component---src-components-blog-tsx\":[\"/component---src-components-blog-tsx-1d5b1ad62b2478af715b.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-527199df2f1ba2c6c5af.js\"],\"component---src-pages-about-tsx\":[\"/component---src-pages-about-tsx-a97d2cbadf143c2f8306.js\"],\"component---src-pages-code-tsx\":[\"/component---src-pages-code-tsx-c80bc752918c10741088.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-c1837cf5c64b6c07292c.js\"],\"component---src-pages-music-tsx\":[\"/component---src-pages-music-tsx-c557ef2d5dc2b54268fe.js\"],\"component---src-pages-ux-tsx\":[\"/component---src-pages-ux-tsx-f3487f8c576d9ac0f1c3.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="eb9b50ccac76a7bb2581";</script><script src="/site-v2.0/webpack-runtime-1c8e9602bf10db530e7b.js" async></script><script src="/site-v2.0/framework-2c6e23597628f64eccfb.js" async></script><script src="/site-v2.0/app-8b843682a0a4ed3268fb.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>