{"version":3,"file":"component---src-pages-index-tsx-c1837cf5c64b6c07292c.js","mappings":"kNAMA,MACMA,EAAM,MAiCNC,EAAcC,EAAAA,QAAOC,GAAEC,WAAA,CAAAC,YAAA,qBAAAC,YAAA,gBAATJ,CAAS,+HAWvBK,EAAaL,EAAAA,QAAOM,IAAGJ,WAAA,CAAAC,YAAA,oBAAAC,YAAA,gBAAVJ,CAAU,wDAMvBO,EAAgBP,EAAAA,QAAOQ,EAACN,WAAA,CAAAC,YAAA,uBAAAC,YAAA,gBAARJ,CAAQ,mCAKxBS,EAAeT,EAAAA,QAAOU,EAACR,WAAA,CAAAC,YAAA,sBAAAC,YAAA,gBAARJ,CAAQ,0IAElBW,GACPA,EAAMC,WAAa,qBAAuB,2BAWxCC,EAAwBb,EAAAA,QAAOM,IAAGJ,WAAA,CAAAC,YAAA,+BAAAC,YAAA,gBAAVJ,CAAU,oOAcxC,UAAec,IAAmB,IAAlB,KAAEC,GAAWD,EAC3B,MAAM,EAACE,EAAgB,EAAEC,IAAuBC,EAAAA,EAAAA,UAASpB,GACnDqB,EAAQJ,EAAKK,kBAAkBC,MAAMC,OAAOC,IAAA,IAAC,KAAEC,GAAWD,EAAA,MAtFlDC,IAA4C,SAA9BA,EAAKC,YAAYC,SAuF3CC,CAAOH,KAEHI,GAAoBC,EAAAA,EAAAA,SAAQ,IA/ENV,KAC5B,MAAMW,EAA2BX,EAAMY,IACrCC,IAAA,IAAC,KAAER,GAAWQ,EAAA,OAAKR,EAAKC,YAAYQ,UAUhCL,EAR8B,GAAHM,QAAAC,EAAAA,EAAAA,GAC5BL,EAAyBR,OAC1B,CAACc,EAAcC,IACbP,EAAyBQ,QAAQF,KAAUC,IAC9C,CACDvC,IAGoDiC,IAAIQ,IAAK,CAC7DN,QAASM,EACTC,MAAOrB,EAAMG,OAAOmB,IAAA,IAAC,KAAEjB,GAAWiB,EAAA,OAAKjB,EAAKC,YAAYQ,UAAYM,IACjEG,UAGCL,EAAQT,EAAkBe,UAAUJ,GAAKA,EAAEN,UAAYnC,GAG7D,OAFA8B,EAAkBS,GAAOG,MAAQrB,aAAK,EAALA,EAAOuB,OACxCd,EAAkBgB,KAAK,CAAClC,EAAGmC,IAAMA,EAAEL,MAAQ9B,EAAE8B,OACtCZ,GA0DiCkB,CAAqB3B,GAAQ,IAErE,OACE4B,EAAAA,cAAA,WACEA,EAAAA,cAACC,EAAAA,EAAG,CAACC,MAAM,6BAA6B,4KAGdF,EAAAA,cAAA,WAAM,2BACP,IACzBA,EAAAA,cAAA,KAAGG,KAAM,sCAAsC,UAAU,IACzDH,EAAAA,cAAClC,EAAqB,CAACsC,UAAU,mBAC9BvB,EAAkBG,IAAIqB,IAAA,IAAC,QAAEnB,EAAO,MAAEO,GAAOY,EAAA,OACxCL,EAAAA,cAACtC,EAAY,CACXG,WAAYqB,IAAYjB,EACxBqC,QAASA,IAAMpC,EAAoBgB,IAElCA,EAAQ,KAAGO,EAAM,QAIvBrB,EACEG,OAAOgC,IAAA,IAAC,KAAE9B,GAAW8B,EAAA,OACpBtC,IAAqBlB,EACjB0B,EACAA,EAAKC,YAAYQ,UAAYjB,IAElCe,IAAIwB,IAAA,IAAC,KAAE/B,GAAW+B,EAAA,OACjBR,EAAAA,cAAA,OAAKS,IAAKhC,EAAKiC,IACbV,EAAAA,cAACW,EAAAA,GAAI,CAACC,GAAInC,EAAKoC,OAAOC,MACpBd,EAAAA,cAAChD,EAAW,KAAEyB,EAAKC,YAAYwB,OAC/BF,EAAAA,cAAC1C,EAAU,KACRmB,EAAKC,YAAYqC,KAAK,IAtHnBC,KAClB,IAAIC,EAAQ,GACZ,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAOE,IACzBD,EAAME,KAAK,KAEb,OAAOF,GAiHgCG,CAAW3C,EAAKC,YAAY2C,OAGvDrB,EAAAA,cAACxC,EAAa,KAAEiB,EAAK6C,aAMlC,C","sources":["webpack://gatsby-starter-hello-world/./src/pages/index.tsx"],"sourcesContent":["import React, { useState, useMemo } from \"react\"\nimport styled from \"styled-components\"\nimport { Link, graphql } from \"gatsby\"\nimport SEO from \"../components/seo\"\nimport { start } from \"repl\"\n\nconst isBlog = (node: any) => node.frontmatter.category === \"blog\"\nconst ALL = \"all\"\nconst renderStar = (times: number) => {\n  let stars = []\n  for (let i = 0; i < times; i++) {\n    stars.push(\"â˜…\")\n  }\n  return stars\n}\n\nconst getKeywordsWithCount = (nodes: any) => {\n  const keywordsWithDuplications = nodes.map(\n    ({ node }: any) => node.frontmatter.keyword\n  )\n  const keywordsWithoutDuplications = [\n    ...keywordsWithDuplications.filter(\n      (item: string, index: number) =>\n        keywordsWithDuplications.indexOf(item) === index\n    ),\n    ALL,\n  ]\n\n  const keywordsWithCount = keywordsWithoutDuplications.map(k => ({\n    keyword: k,\n    count: nodes.filter(({ node }: any) => node.frontmatter.keyword === k)\n      .length,\n  }))\n\n  const index = keywordsWithCount.findIndex(k => k.keyword === ALL)\n  keywordsWithCount[index].count = nodes?.length\n  keywordsWithCount.sort((a, b) => b.count - a.count)\n  return keywordsWithCount\n}\n\nconst StyledTitle = styled.h3`\n  color: #663399;\n  color: var(--app-main-color, #663399);\n  margin-bottom: 1.5rem;\n  font-size: 1.3rem;\n\n  &:first-of-type {\n    margin-top: 2rem;\n  }\n`\n\nconst StyledDate = styled.div`\n  font-size: 0.8rem;\n  color: black;\n  margin-bottom: 1.2rem;\n`\n\nconst StyledContent = styled.p`\n  color: black;\n  font-size: 0.8rem;\n`\n\nconst StyledFilter = styled.a<{ isSelected: boolean }>`\n  font-size: 0.9rem;\n  color: ${props =>\n    props.isSelected ? \"#663399 !important\" : \"rgba(102, 51, 153, 0.5)\"};\n  box-shadow: none;\n  cursor: pointer;\n  margin-right: 0.8rem;\n  font-weight: 800;\n  &:hover {\n    color: #663399;\n    box-shadow: none;\n  }\n`\n\nconst StyledFilterContainer = styled.div`\n  margin-top: 1rem;\n  border-top: 0.1px solid rgba(0, 0, 0, 0.2);\n  padding-top: 1rem;\n  border-bottom: 0.1px solid rgba(0, 0, 0, 0.2);\n  padding-bottom: 1rem;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  position: sticky;\n  top: 0px;\n  background: white;\n`\n\nexport default ({ data }: any) => {\n  const [selectedCategory, setSelectedCategory] = useState(ALL)\n  const nodes = data.allMarkdownRemark.edges.filter(({ node }: any) =>\n    isBlog(node)\n  )\n  const keywordsWithCount = useMemo(() => getKeywordsWithCount(nodes), [])\n\n  return (\n    <div>\n      <SEO title=\"Albert Yuebai XU - blogs\" />\n      Technology evolves quickly, and the significance of articles grows\n      alongside it. I use \"stars\" to highlight their relevance in the context of\n      today's technology world. <br />\n      Selected articles are on{\" \"}\n      <a href={\"https://medium.com/@albertyuebaixu\"}>Medium</a>.\n      <StyledFilterContainer className=\"filterContainer\">\n        {keywordsWithCount.map(({ keyword, count }) => (\n          <StyledFilter\n            isSelected={keyword === selectedCategory}\n            onClick={() => setSelectedCategory(keyword)}\n          >\n            {keyword} ({count})\n          </StyledFilter>\n        ))}\n      </StyledFilterContainer>\n      {nodes\n        .filter(({ node }: any) =>\n          selectedCategory === ALL\n            ? node\n            : node.frontmatter.keyword === selectedCategory\n        )\n        .map(({ node }: any) => (\n          <div key={node.id}>\n            <Link to={node.fields.slug}>\n              <StyledTitle>{node.frontmatter.title}</StyledTitle>\n              <StyledDate>\n                {node.frontmatter.date} {renderStar(node.frontmatter.star)}\n              </StyledDate>\n              {/* <StyledDate></StyledDate> */}\n              <StyledContent>{node.excerpt}</StyledContent>\n            </Link>\n          </div>\n        ))}\n    </div>\n  )\n}\n\nexport const query = graphql`\n  query blog {\n    allMarkdownRemark(sort: { fields: [frontmatter___date], order: DESC }) {\n      totalCount\n      edges {\n        node {\n          id\n          frontmatter {\n            title\n            date(formatString: \"DD MMMM, YYYY\")\n            category\n            star\n            keyword\n          }\n          fields {\n            slug\n          }\n          excerpt\n        }\n      }\n    }\n  }\n`\n"],"names":["ALL","StyledTitle","styled","h3","withConfig","displayName","componentId","StyledDate","div","StyledContent","p","StyledFilter","a","props","isSelected","StyledFilterContainer","_ref3","data","selectedCategory","setSelectedCategory","useState","nodes","allMarkdownRemark","edges","filter","_ref4","node","frontmatter","category","isBlog","keywordsWithCount","useMemo","keywordsWithDuplications","map","_ref","keyword","concat","_toConsumableArray","item","index","indexOf","k","count","_ref2","length","findIndex","sort","b","getKeywordsWithCount","React","SEO","title","href","className","_ref5","onClick","_ref6","_ref7","key","id","Link","to","fields","slug","date","times","stars","i","push","renderStar","star","excerpt"],"sourceRoot":""}